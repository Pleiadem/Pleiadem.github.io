<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>Webtop 使用教程：如何在浏览器中运行桌面环境</title>
      <link href="/posts/1386039456.html"/>
      <url>/posts/1386039456.html</url>
      
        <content type="html"><![CDATA[<meta name="referrer" content="no-referrer"/><p>在现代工作环境中，跨设备的灵活性变得尤为重要。对于那些在多台设备上使用 Hexo 的用户来说，每次更换设备时重新部署 Hexo 的繁琐操作可能令人头疼。为了解决这个问题，我决定利用闲置的服务器来搭建一个可以通过浏览器访问的远程桌面。</p><p>起初，我尝试了 <a href="https://kodcloud.com/">可道云</a> 和 <a href="https://webos.im/doc/">webos</a>，但这些方案并未完全满足我的需求。经过一番研究，我发现了 <a href="https://docs.linuxserver.io/images/docker-webtop/">Webtop</a> 这一强大的工具。</p><h2 id="Webtop-简介"><a href="#Webtop-简介" class="headerlink" title="Webtop 简介"></a>Webtop 简介</h2><p>Webtop 是一个基于 Alpine、Ubuntu、Fedora 和 Arch 的容器，提供完整的桌面环境，并可通过任何现代 Web 浏览器访问。它支持 <strong><code>amd64</code></strong> 和 <strong><code>arm64</code></strong> 架构，部署极其简单，只需一行 Docker 命令。</p><h2 id="部署-Webtop"><a href="#部署-Webtop" class="headerlink" title="部署 Webtop"></a>部署 Webtop</h2><p>确保您已经安装了 Docker，然后运行以下命令：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">docker run -d \</span><br><span class="line">  --name=webtop \</span><br><span class="line">  --security-opt seccomp=unconfined \  </span><br><span class="line">  -e PUID=1000 \  </span><br><span class="line">  -e PGID=1000 \  </span><br><span class="line">  -e TZ=Asia/Shanghai \</span><br><span class="line">  -e CUSTOM_USER=&lt;账号&gt; \</span><br><span class="line">  -e PASSWORD=&lt;密码&gt; \</span><br><span class="line">  -e SUBFOLDER=/ \</span><br><span class="line">  -e TITLE=Webtop \</span><br><span class="line">  -e LC_ALL=zh_TW.UTF-8 \</span><br><span class="line">  -e DOCKER_MODS=linuxserver/mods:universal-package-install \</span><br><span class="line">  -e INSTALL_PACKAGES=font-noto-cjk \</span><br><span class="line">  -p 3080:3000 \</span><br><span class="line">  -p 3443:3001 \</span><br><span class="line">  -v ~/webtop/data:/config \</span><br><span class="line">  -v /var/run/docker.sock:/var/run/docker.sock \</span><br><span class="line">  --device /dev/dri:/dev/dri \</span><br><span class="line">  --shm-size=&quot;1gb&quot; \</span><br><span class="line">  --restart unless-stopped \</span><br><span class="line">  docker.1ms.run/linuxserver/webtop:ubuntu-xfce</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure><figure class="highlight dockerfile"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">docker <span class="keyword">run</span><span class="language-bash"> -d \</span></span><br><span class="line"><span class="language-bash">  --name=webtop \</span></span><br><span class="line"><span class="language-bash">  --security-opt seccomp=unconfined \</span></span><br><span class="line"><span class="language-bash">  -e PUID=1000 \</span></span><br><span class="line"><span class="language-bash">  -e PGID=1000 \</span></span><br><span class="line"><span class="language-bash">  -e TZ=Asia/Shanghai \</span></span><br><span class="line"><span class="language-bash">  -e CUSTOM_USER=&lt;账号&gt; \</span></span><br><span class="line"><span class="language-bash">  -e PASSWORD=&lt;密码&gt; \</span></span><br><span class="line"><span class="language-bash">  -e SUBFOLDER=/ \</span></span><br><span class="line"><span class="language-bash">  -e TITLE=Webtop \</span></span><br><span class="line"><span class="language-bash">  -e LC_ALL=en_US.UTF-8 \</span></span><br><span class="line"><span class="language-bash">  -p 3080:3000 \</span></span><br><span class="line"><span class="language-bash">  -p 3443:3001 \</span></span><br><span class="line"><span class="language-bash">  -v ~/webtop/data:/config \</span></span><br><span class="line"><span class="language-bash">  -v /var/run/docker.sock:/var/run/docker.sock \</span></span><br><span class="line"><span class="language-bash">  --device /dev/dri:/dev/dri \</span></span><br><span class="line"><span class="language-bash">  --shm-size=<span class="string">&quot;1gb&quot;</span> \</span></span><br><span class="line"><span class="language-bash">  --restart unless-stopped \</span></span><br><span class="line"><span class="language-bash">  docker.1ms.run/linuxserver/webtop:ubuntu-xfce</span></span><br></pre></td></tr></table></figure><h3 id="注意事项"><a href="#注意事项" class="headerlink" title="注意事项"></a>注意事项</h3><ul><li><strong>账户安全</strong>：为确保安全，设置访问账户和密码是必需的，否则任何人都可以访问您的桌面。</li><li><strong>中文支持</strong>：如果您的服务器在国内，下载中文支持包可能会很慢。建议使用 <code>-e LC_ALL=en_US.UTF-8</code>，并在容器启动后手动安装 <code>font-noto-cjk</code>。</li></ul><h2 id="选择适合您的版本"><a href="#选择适合您的版本" class="headerlink" title="选择适合您的版本"></a>选择适合您的版本</h2><p>Webtop 提供多种桌面环境和操作系统版本。您可以根据需要选择不同的版本：</p><table><thead><tr><th>Tag</th><th>描述</th></tr></thead><tbody><tr><td>ubuntu-xfce</td><td>XFCE Ubuntu</td></tr><tr><td>fedora-xfce</td><td>XFCE Fedora</td></tr><tr><td>arch-xfce</td><td>XFCE Arch</td></tr><tr><td>debian-xfce</td><td>XFCE Debian</td></tr><tr><td>…</td><td>…</td></tr></tbody></table><p>切换版本只需在命令末尾更改 <code>linuxserver/webtop:&lt;Tag&gt;</code>。</p><h2 id="访问您的远程桌面"><a href="#访问您的远程桌面" class="headerlink" title="访问您的远程桌面"></a>访问您的远程桌面</h2><p>完成部署后，查看 Docker 日志，确保容器已成功启动。然后，您可以通过浏览器访问 <code>http://&lt;服务器IP&gt;:3080</code> 或 <code>https://&lt;服务器IP&gt;:3443</code>，输入您的账户和密码即可。</p><p>通过这种方式，您可以轻松实现跨设备的 Hexo 部署和管理，享受无缝的工作体验。希望这篇文章对您有所帮助！</p>]]></content>
      
      
      <categories>
          
          <category> 小玩具 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 云桌面 </tag>
            
            <tag> webtop </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Hexo使用 GitHub Actions 自动推送更新到自己其他服务器</title>
      <link href="/posts/2059263623.html"/>
      <url>/posts/2059263623.html</url>
      
        <content type="html"><![CDATA[<meta name="referrer" content="no-referrer"/><p>在使用 Hexo 搭建博客并推送到 GitHub Pages 后，我希望每次更新博客时，能够自动同步到我们的服务器（服务器上有其他域名，也是为了解决github page只能使用一个自定义域名的问题）。虽然可以通过在服务器上定期执行 <strong><code>git pull</code></strong> 来实现，但这种方法略显不够优雅。因此，我想到了使用 <strong><code>GitHub Actions</code></strong> 来实现这个自动化流程。💡</p><h2 id="问题背景-🤔"><a href="#问题背景-🤔" class="headerlink" title="问题背景 🤔"></a>问题背景 🤔</h2><p>每次执行 <strong><code>hexo cl &amp;&amp; hexo g -d</code></strong> 后，GitHub Actions 的配置文件会被覆盖掉，因为 Hexo 部署时不会包含 <strong><code>.github</code></strong> 目录下的文件。这是因为 Hexo 默认不会编译以 <strong><code>.</code></strong> 开头的文件夹，这导致 <strong><code>public</code></strong> 目录中不会有 <strong><code>.github/workflows/&lt;文件名&gt;.yml</code></strong> 文件，从而使得 Actions 失效。</p><h2 id="解决方案-🎯"><a href="#解决方案-🎯" class="headerlink" title="解决方案 🎯"></a>解决方案 🎯</h2><p>通过阅读 <code>hexo-deployer-git</code> 的文档，我发现可以使用 <code>extend_dirs</code> 字段来包含特定的文件或目录，将其一同提交到远程仓库。这样就可以完美解决这个问题。👌</p><h3 id="配置-Hexo"><a href="#配置-Hexo" class="headerlink" title="配置 Hexo"></a>配置 Hexo</h3><p>在 Hexo 的 <code>_config.yml</code> 中进行如下配置：</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">deploy:</span></span><br><span class="line">  <span class="attr">type:</span> <span class="string">git</span></span><br><span class="line">  <span class="attr">repo:</span> <span class="string">&lt;github</span> <span class="string">地址&gt;</span></span><br><span class="line">  <span class="attr">branch:</span> <span class="string">main</span></span><br><span class="line">  <span class="attr">extend_dirs:</span> [<span class="string">.github/workflows/</span>]</span><br></pre></td></tr></table></figure><p>注意：<code>extend_dirs</code> 读取的是博客根目录下的文件夹，而不是 <code>source</code> 中的。因此，GitHub Actions 的 yml 文件应该位于 <code>/blogroot/.github/workflows/&lt;文件名&gt;.yml</code>，并且不支持通配符。</p><img src="/posts/2059263623/image-20241226173607784.png" class="" title="image-20241226173607784"><p>这样配置后，每次执行 <code>hexo d</code> 时，<code>.github/workflows/</code> 文件夹中的内容会被放到提交目录的根目录，即 <code>/blogroot/.deploy_git/</code> 中，GitHub 就能成功识别并执行 Action。🎉</p><img src="/posts/2059263623/image-20241226173641038.png" class="" title="image-20241226173641038"><h2 id="使用-GitHub-Actions-同步到服务器-🖥️"><a href="#使用-GitHub-Actions-同步到服务器-🖥️" class="headerlink" title="使用 GitHub Actions 同步到服务器 🖥️"></a>使用 GitHub Actions 同步到服务器 🖥️</h2><p>在项目根目录 <code>/blogroot/</code> 下创建 <code>.github/workflows/deploy.yml</code> 文件，填入以下内容：</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">name:</span> <span class="string">Deploy</span> <span class="string">to</span> <span class="string">Server</span></span><br><span class="line"></span><br><span class="line"><span class="attr">on:</span></span><br><span class="line">  <span class="attr">push:</span></span><br><span class="line">    <span class="attr">branches:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">main</span>  <span class="comment"># 监听 main 分支</span></span><br><span class="line"></span><br><span class="line"><span class="attr">jobs:</span></span><br><span class="line">  <span class="attr">deploy:</span></span><br><span class="line">    <span class="attr">runs-on:</span> <span class="string">ubuntu-latest</span></span><br><span class="line">    <span class="attr">environment:</span>   <span class="comment"># 表示使用github-pages变量，这个在github的setting设置</span></span><br><span class="line">      <span class="attr">name:</span> <span class="string">github-pages</span></span><br><span class="line">    <span class="attr">steps:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">Checkout</span></span><br><span class="line">      <span class="attr">uses:</span> <span class="string">actions/checkout@v2</span></span><br><span class="line"></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">Setup</span> <span class="string">SSH</span></span><br><span class="line">      <span class="attr">uses:</span> <span class="string">webfactory/ssh-agent@v0.5.3</span></span><br><span class="line">      <span class="attr">with:</span></span><br><span class="line">        <span class="attr">ssh-private-key:</span> <span class="string">$&#123;&#123;</span> <span class="string">secrets.SSH_PRIVATE_KEY</span> <span class="string">&#125;&#125;</span></span><br><span class="line"></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">Deploy</span> <span class="string">to</span> <span class="string">server</span></span><br><span class="line">      <span class="attr">env:</span></span><br><span class="line">        <span class="attr">SERVER_IP:</span> <span class="string">$&#123;&#123;</span> <span class="string">secrets.SERVER_IP</span> <span class="string">&#125;&#125;</span></span><br><span class="line">        <span class="attr">SERVER_USER:</span> <span class="string">$&#123;&#123;</span> <span class="string">secrets.SERVER_USER</span> <span class="string">&#125;&#125;</span></span><br><span class="line">        <span class="attr">SERVER_PORT:</span> <span class="string">$&#123;&#123;</span> <span class="string">secrets.SERVER_PORT</span> <span class="string">&#125;&#125;</span></span><br><span class="line">        <span class="attr">REPO_URL:</span> <span class="string">https://github.com/Pleiadem/Pleiadem.github.io.git</span></span><br><span class="line">        <span class="attr">TARGET_DIR:</span> <span class="string">$&#123;&#123;</span> <span class="string">secrets.TARGET_DIR</span> <span class="string">&#125;&#125;</span>   <span class="comment"># 我这里会先删除目录再重建，避免git pull失败，！注意风险！</span></span><br><span class="line">      <span class="attr">run:</span> <span class="string">|</span></span><br><span class="line"><span class="string">        ssh -o StrictHostKeyChecking=no -p $SERVER_PORT $SERVER_USER@$SERVER_IP &quot;</span></span><br><span class="line"><span class="string">          if [ -d $TARGET_DIR ]; then</span></span><br><span class="line"><span class="string">            rm -rf $TARGET_DIR</span></span><br><span class="line"><span class="string">          fi</span></span><br><span class="line"><span class="string">          mkdir -p $TARGET_DIR</span></span><br><span class="line"><span class="string">          git clone $REPO_URL $TARGET_DIR</span></span><br><span class="line"><span class="string">        &quot;</span></span><br></pre></td></tr></table></figure><h3 id="配置-GitHub-Secrets-🔑"><a href="#配置-GitHub-Secrets-🔑" class="headerlink" title="配置 GitHub Secrets 🔑"></a>配置 GitHub Secrets 🔑</h3><p>接下来，到 GitHub Pages 项目的设置中配置环境变量：</p><ol><li><p>点击 <code>Settings</code>，找到 <code>Environments</code>。</p></li><li><p>进入 GitHub 默认创建的 <code>github-pages</code> 环境变量组。</p><img src="/posts/2059263623/image-20241226173912885.png" class="" title="image-20241226173912885"></li><li><p>在 <code>Environment secrets</code> 中点击 <code>Add environment secret</code>，设置以下变量：</p><ul><li><p><code>SERVER_IP</code>：你的服务器 IP 地址。</p></li><li><p><code>SERVER_PORT</code>：SSH 连接的端口。</p></li><li><p><code>SERVER_USER</code>：SSH 用户名。</p></li><li><p><code>SSH_PRIVATE_KEY</code>：用于连接服务器的私钥。</p></li><li><p><code>TARGET_DIR</code>：服务器上的目标目录。</p><img src="/posts/2059263623/image-20241226173937397.png" class="" title="image-20241226173937397"></li></ul></li></ol><p>完成这些配置后，运行 <code>hexo cl &amp;&amp; hexo g -d</code>，即可自动运行github action，可到后台查看进度。🚀</p><img src="/posts/2059263623/image-20241226174137641.png" class="" title="image-20241226174137641"><p>通过这样的设置，每次你更新 Hexo 博客并推送到 GitHub 时，GitHub Actions 将自动同步更新到你的服务器上，省去手动操作的麻烦。希望这个方法对你有所帮助！😊</p>]]></content>
      
      
      <categories>
          
          <category> 博客 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> hexo </tag>
            
            <tag> 博客 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Hexo 博客推送到 GitHub Pages：自定义域名解析与持久化方案</title>
      <link href="/posts/1386039455.html"/>
      <url>/posts/1386039455.html</url>
      
        <content type="html"><![CDATA[<meta name="referrer" content="no-referrer"/><p>在将 Hexo 博客推送到 GitHub Pages 并使用自定义域名的过程中，常常会遇到更新后域名失效的问题。本文将详细介绍如何将Hexo 博客推送到 GitHub Pages，并解决这一问题，保持域名的持续有效。</p><hr><h2 id="🌿-创建-GitHub-仓库"><a href="#🌿-创建-GitHub-仓库" class="headerlink" title="🌿 创建 GitHub 仓库"></a>🌿 创建 GitHub 仓库</h2><ol><li><p><strong>创建仓库</strong><br>在 GitHub 主页的 repositories 中，新建一个名为 <code>&lt;你的GitHub用户名&gt;.github.io</code> 的仓库。直接创建即可，无需额外配置。</p><img src="/posts/1386039455/image-20241225175418615.png" class="" title="image-20241225175418615"></li><li><p><strong>生成访问令牌</strong><br>前往 <a href="https://github.com/settings/apps">GitHub 设置页面</a>，在 Personal access tokens 下创建一个新的 token。选择 Fine-grained tokens，点击 Generate new token。输入 token 名称（如“个人 Hexo 博客”），设置过期时间。</p><img src="/posts/1386039455/1735119774773.jpg" class="" width="1735119774773"></li><li><p><strong>配置权限</strong>  </p><ul><li><p>在 Repository access 下选择 Only select repositories，并选择刚刚创建的仓库。</p></li><li><p>在 Permissions 的 Repository permissions 中打开所需权限（建议全开），然后生成 token 并保存。</p><img src="/posts/1386039455/1735119774780-1735120502300-7.jpg" class="" width="1735119774780"></li></ul></li></ol><hr><h2 id="🌿-配置-Hexo-部署"><a href="#🌿-配置-Hexo-部署" class="headerlink" title="🌿 配置 Hexo 部署"></a>🌿 配置 Hexo 部署</h2><p>打开 Hexo 项目的 <code>_config.yml</code> 文件，找到 <code>deploy</code> 部分，配置如下：</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">deploy:</span></span><br><span class="line">  <span class="attr">type:</span> <span class="string">git</span></span><br><span class="line">  <span class="attr">repo:</span> <span class="string">https://&lt;你的GitHub用户名&gt;:&lt;生成的token&gt;@github.com/&lt;你的GitHub用户名&gt;/&lt;你的GitHub用户名&gt;.github.io.git</span></span><br><span class="line">  <span class="attr">branch:</span> <span class="string">main</span></span><br></pre></td></tr></table></figure><img src="/posts/1386039455/image-20241225175556038.png" class="" title="image-20241225175556038"><p>保存配置后，执行以下命令推送到 GitHub：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo clean &amp;&amp; hexo g -d</span><br></pre></td></tr></table></figure><hr><h2 id="🌿-自定义域名设置"><a href="#🌿-自定义域名设置" class="headerlink" title="🌿 自定义域名设置"></a>🌿 自定义域名设置</h2><ol><li><p><strong>配置 DNS</strong><br>使用 Cloudflare 等 DNS 服务商，将你的子域名通过 CNAME 解析到 <code>&lt;你的GitHub用户名&gt;.github.io</code>。</p><img src="/posts/1386039455/image-20241225175651417.png" class="" title="image-20241225175651417"></li><li><p><strong>GitHub Pages 设置</strong><br>在 GitHub 仓库的设置中，找到 Pages 部分，在自定义域名字段中输入你的域名并保存。GitHub 会自动开启 HTTPS。</p><img src="/posts/1386039455/image-20241225175804036.png" class="" title="image-20241225175804036"><p>dns配置没问题的话，过一会就会成功。</p><img src="/posts/1386039455/image-20241225175816726.png" class="" title="image-20241225175816726"></li></ol><hr><h2 id="🌿-持久化解决方案"><a href="#🌿-持久化解决方案" class="headerlink" title="🌿 持久化解决方案"></a>🌿 持久化解决方案</h2><p>每次更新后自定义域名失效，是因为 GitHub Pages 的域名解析依赖于仓库中的一个 CNAME 文件，更新后文件被覆盖而消失。</p><img src="/posts/1386039455/image-20241225175903287.png" class="" title="image-20241225175903287"><h3 id="解决方案："><a href="#解决方案：" class="headerlink" title="解决方案："></a>解决方案：</h3><p>在 Hexo 项目的根目录下的 <code>source</code> 文件夹中，创建一个名为 <code>CNAME</code> 的文件，并在文件中输入Github上CNAME文件里的内容。这样，CNAME 文件会在每次生成静态文件时被包含在内，确保域名解析不会失效。</p><img src="/posts/1386039455/image-20241225175927707.png" class="" title="image-20241225175927707"><hr><h2 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h2><p>通过上述步骤，你可以成功将 Hexo 博客部署到 GitHub Pages，并使用自定义域名。配置完成后，域名解析将保持稳定，不再因更新而失效。愿此指南能为你提供帮助，静候佳音。</p><hr>]]></content>
      
      
      <categories>
          
          <category> 博客 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> hexo </tag>
            
            <tag> 博客 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Hexo 博客图片显示问题解决：从 post_asset_folder 到封面图设置</title>
      <link href="/posts/70775486.html"/>
      <url>/posts/70775486.html</url>
      
        <content type="html"><![CDATA[<meta name="referrer" content="no-referrer"/><p>在管理 Hexo 博客时，图片的组织和管理中会出现各种问题，比如经典的开启了post_asset_folder，使用后还是不显示。为了提高管理效率和结构化程度，我们可以为每篇文章创建一个独立的资源文件夹。以下是具体的实现步骤。</p><hr><h2 id="🌿-步骤一：配置-Hexo"><a href="#🌿-步骤一：配置-Hexo" class="headerlink" title="🌿 步骤一：配置 Hexo"></a>🌿 步骤一：配置 Hexo</h2><p>首先，我们需要修改 Hexo 的配置文件，使其支持为每篇文章创建独立的资源文件夹。</p><h3 id="1-修改-config-yml"><a href="#1-修改-config-yml" class="headerlink" title="1. 修改 _config.yml"></a>1. 修改 <code>_config.yml</code></h3><p>打开 Hexo 根目录下的 <code>_config.yml</code> 文件，找到并设置以下选项：</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">post_asset_folder:</span> <span class="literal">true</span></span><br><span class="line"><span class="attr">marked:</span></span><br><span class="line">  <span class="attr">prependRoot:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">postAsset:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure><p>这将启用每篇文章的资源文件夹功能。</p><hr><h2 id="🌿-步骤二：创建新文章"><a href="#🌿-步骤二：创建新文章" class="headerlink" title="🌿 步骤二：创建新文章"></a>🌿 步骤二：创建新文章</h2><h3 id="2-1-使用命令创建文章"><a href="#2-1-使用命令创建文章" class="headerlink" title="2.1 使用命令创建文章"></a>2.1 使用命令创建文章</h3><p>在终端中，导航到 Hexo 项目目录，并使用以下命令创建新文章：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo new [layout] <span class="string">&quot;&lt;title&gt;&quot;</span></span><br></pre></td></tr></table></figure><ul><li><code>layout</code> 可以省略，使用默认值。</li><li><code>title</code> 是文章的标题，如果包含空格，请用双引号括起来。</li></ul><p>此命令将在 <code>source</code> 目录下自动创建一个与文章同名的文件夹和 <code>.md</code> 文件。</p><hr><h2 id="🌿-步骤三：配置-Typora"><a href="#🌿-步骤三：配置-Typora" class="headerlink" title="🌿 步骤三：配置 Typora"></a>🌿 步骤三：配置 Typora</h2><p>为了更方便地管理图片，我们可以利用 Typora 的自动化功能。</p><h3 id="3-1-设置-Typora-的图片选项"><a href="#3-1-设置-Typora-的图片选项" class="headerlink" title="3.1 设置 Typora 的图片选项"></a>3.1 设置 Typora 的图片选项</h3><p>打开 Typora，进入偏好设置，选择“图像”选项。将图片复制路径设置为：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">./$(filename)</span><br></pre></td></tr></table></figure><img src="/posts/70775486/image-20241225171412896.png" class="" title="image-20241225171412896"><p>这样，Typora 会在我们粘贴图片时，自动将图片复制到文章的同名文件夹中。如果文件夹不存在，Typora 会自动创建。</p><hr><h2 id="🌿-步骤四：安装-Hexo-插件"><a href="#🌿-步骤四：安装-Hexo-插件" class="headerlink" title="🌿 步骤四：安装 Hexo 插件"></a>🌿 步骤四：安装 Hexo 插件</h2><p>为了确保图片在生成的博客中正常显示，我们需要安装一个插件。</p><h3 id="4-1-安装-hexo-asset-img"><a href="#4-1-安装-hexo-asset-img" class="headerlink" title="4.1 安装 hexo-asset-img"></a>4.1 安装 <code>hexo-asset-img</code></h3><p>在 Hexo 项目目录下，运行以下命令安装插件：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-asset-img --save</span><br></pre></td></tr></table></figure><img src="/posts/70775486/image-20241225171447662.png" class="" title="image-20241225171447662"><p>⚠️ 注意：请确保安装的是 <code>hexo-asset-img</code>，而不是其他类似的插件。安装后，检查 <code>node_modules</code> 目录，确保插件安装成功。如果有 <code>hexo-asset-image</code>，请手动删除。</p><h3 id="4-2-重新生成博客"><a href="#4-2-重新生成博客" class="headerlink" title="4.2 重新生成博客"></a>4.2 重新生成博客</h3><p>安装完成后，执行以下命令清理和重新生成博客：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">hexo clean</span><br><span class="line">hexo g</span><br></pre></td></tr></table></figure><hr><h2 id="🌿-步骤五：管理封面图片"><a href="#🌿-步骤五：管理封面图片" class="headerlink" title="🌿 步骤五：管理封面图片"></a>🌿 步骤五：管理封面图片</h2><p>对于每篇文章的封面图片，我们可以有两种管理方式：</p><h3 id="5-1-使用-abbrlink-插件"><a href="#5-1-使用-abbrlink-插件" class="headerlink" title="5.1 使用 abbrlink 插件"></a>5.1 使用 <code>abbrlink</code> 插件</h3><p>如果已安装 <code>abbrlink</code> 插件，可以直接在文章头部配置（如果不是文章中的图片，那就粘贴一下把文件名保存下来后删除就行，typora会自动上传到同名文件夹）：</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">cover:</span> <span class="string">/posts/&lt;abbrlink&gt;/图片文件名</span></span><br><span class="line"><span class="attr">abbrlink:</span> <span class="number">2293603394</span>  <span class="string">(没有abbrlink字段的话，等写完文章后hexo</span> <span class="string">g</span> <span class="string">生成一下，然后再去写cover就行)</span></span><br></pre></td></tr></table></figure><img src="/posts/70775486/image-20241225171605380.png" class="" title="image-20241225171605380"><p>无论是hexo s 还是上传到github page都能正常显示。</p><img src="/posts/70775486/image-20241225171640218.png" class="" title="image-20241225171640218"><h3 id="5-2-或者使用全局图片目录"><a href="#5-2-或者使用全局图片目录" class="headerlink" title="5.2 或者使用全局图片目录"></a>5.2 或者使用全局图片目录</h3><p>在 <code>source</code> 目录下创建一个 &#96;image 文件夹，直接通过路径引用：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">/image/图片名字</span><br></pre></td></tr></table></figure><img src="/posts/70775486/image-20241225171948487.png" class="" title="image-20241225171948487"><img src="/posts/70775486/image-20241225171921932.png" class="" title="image-20241225171921932"><hr><h2 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h2><p>每次修改、写完文章，最好使用 <strong><code>hexo clean &amp;&amp; hexo g &amp;&amp; hexo s</code></strong> 清理缓存（否则可能不生效）然后本地预览下</p><p>没问题再使用 <strong><code>hexo d</code></strong> 推送到远端仓库</p><p>通过以上步骤，我们可以实现每篇文章独立的资源管理，让我们更优雅地写博客。</p><hr>]]></content>
      
      
      <categories>
          
          <category> 博客 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> hexo </tag>
            
            <tag> 博客 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Hexo 博客迁移记录：问题与解决方案</title>
      <link href="/posts/2293603394.html"/>
      <url>/posts/2293603394.html</url>
      
        <content type="html"><![CDATA[<meta name="referrer" content="no-referrer"/><p>在将 Hexo 博客从旧电脑迁移到新电脑的过程中，遇到了一些技术问题。以下记录了整个过程以及解决方案，供参考。</p><hr><h2 id="迁移步骤"><a href="#迁移步骤" class="headerlink" title="迁移步骤"></a>迁移步骤</h2><ol><li><p><strong>打包博客文件</strong><br>在旧电脑上，使用以下命令压缩博客目录，排除 <code>node_modules</code>：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">zip -r blog.zip blog -x <span class="string">&quot;blog/node_modules/*&quot;</span></span><br></pre></td></tr></table></figure></li><li><p><strong>安装 Hexo 和解压博客</strong>  </p><ul><li><p>在新电脑上安装 Hexo CLI：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-cli -g</span><br></pre></td></tr></table></figure></li><li><p>初始化一个新的博客目录：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo init blog</span><br></pre></td></tr></table></figure></li><li><p>解压旧博客的压缩包，并替换新目录的内容。</p></li></ul></li><li><p><strong>安装依赖</strong><br>在新目录中运行：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install</span><br></pre></td></tr></table></figure></li></ol><hr><h2 id="遇到的问题"><a href="#遇到的问题" class="headerlink" title="遇到的问题"></a>遇到的问题</h2><h3 id="1-安装-hexo-renderer-pug-和-hexo-renderer-stylus-失败"><a href="#1-安装-hexo-renderer-pug-和-hexo-renderer-stylus-失败" class="headerlink" title="1. 安装 hexo-renderer-pug 和 hexo-renderer-stylus 失败"></a>1. 安装 <code>hexo-renderer-pug</code> 和 <code>hexo-renderer-stylus</code> 失败</h3><p>使用 npm 安装时，出现以下错误：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm error Cannot read properties of null (reading &#x27;matches&#x27;)</span><br></pre></td></tr></table></figure><img src="/posts/2293603394/image-20241225161524040.png" class="" title="image-20241225161524040"><h4 id="解决方法"><a href="#解决方法" class="headerlink" title="解决方法"></a>解决方法</h4><p>使用 <code>pnpm</code> 并指定镜像源：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pnpm install hexo-renderer-pug hexo-renderer-stylus --save --registry=https://registry.npmjs.org/</span><br></pre></td></tr></table></figure><img src="/posts/2293603394/image-20241225161546869.png" class="" title="image-20241225161546869"><p>虽然安装成功，但有一些依赖项被标记为废弃。这些警告不影响使用，可以暂时忽略。</p><hr><h3 id="2-缺少-moment-timezone-模块"><a href="#2-缺少-moment-timezone-模块" class="headerlink" title="2. 缺少 moment-timezone 模块"></a>2. 缺少 <code>moment-timezone</code> 模块</h3><p>运行服务器时，出现模块缺失的错误：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ERROR Script load failed: themes\butterfly\scripts\helpers\page.js</span><br><span class="line">Error: Cannot find module &#x27;moment-timezone&#x27;</span><br></pre></td></tr></table></figure><img src="/posts/2293603394/image-20241225161336162.png" class="" title="image-20241225161336162"><h4 id="解决方法-1"><a href="#解决方法-1" class="headerlink" title="解决方法"></a>解决方法</h4><p>安装缺失的模块：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pnpm i moment-timezone --save</span><br></pre></td></tr></table></figure><p>完成后，Hexo 服务器可以正常启动。</p><img src="/posts/2293603394/image-20241225161405162.png" class="" title="image-20241225161405162"><hr><h2 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h2><p>迁移 Hexo 博客的完整流程如下：</p><ol><li>在旧电脑上压缩博客目录，排除 <code>node_modules</code>。</li><li>在新电脑上安装 Hexo CLI 并初始化博客。</li><li>替换博客内容。</li><li>如果 <code>npm install</code> 出现问题，使用 <code>pnpm</code> 安装依赖。</li><li>安装缺失的模块，如 <code>moment-timezone</code>。</li></ol><hr><h2 id="注意事项"><a href="#注意事项" class="headerlink" title="注意事项"></a>注意事项</h2><ul><li>对于依赖项的废弃警告，虽然不影响使用，但建议定期检查更新。</li><li>如果网络不稳定，考虑使用国内镜像源。</li></ul><hr><p>完成这些步骤后，运行以下命令启动服务器：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo server</span><br></pre></td></tr></table></figure><p>此时，博客应该可以正常访问。希望这篇记录能为你提供一些帮助。</p>]]></content>
      
      
      <categories>
          
          <category> 博客 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> hexo </tag>
            
            <tag> 博客 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>在 Serv00 上安装 Alist 并通过 Cloudflare Tunnel 映射域名</title>
      <link href="/posts/2935205373.html"/>
      <url>/posts/2935205373.html</url>
      
        <content type="html"><![CDATA[<meta name="referrer" content="no-referrer"/><p>今天，我将分享如何在我们的服务器 Serv00 上安装 Alist，并通过 Cloudflare Tunnel 将其映射到自己的域名。同时，我们会使用 PM2 来管理 Alist 服务的运行环境和监控。🚀</p><h2 id="安装-PM2"><a href="#安装-PM2" class="headerlink" title="安装 PM2"></a>安装 PM2</h2><p>首先，通过 SSH 连接到 Serv00，然后使用一键脚本安装 PM2。PM2 是一个流行的 Node.js 进程管理器，可以帮助我们更好地管理应用程序。运行以下命令：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">bash &lt;(curl -s https://raw.githubusercontent.com/k0baya/alist_repl/main/serv00/install-pm2.sh)</span><br></pre></td></tr></table></figure><h2 id="安装-Alist"><a href="#安装-Alist" class="headerlink" title="安装 Alist"></a>安装 Alist</h2><p>前往 <a href="https://github.com/AlistGo/alist/releases/">Alist 的 GitHub 发布页</a>，找到适合 Serv00 的 Alist 测试版本（注意选择 FreeBSD amd64）。在服务器上创建一个文件夹用于存放 Alist 文件：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">mkdir</span> -p ~/domains/alist</span><br></pre></td></tr></table></figure><p>接下来，下载并解压 Alist：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wget https://github.com/AlistGo/alist/releases/download/beta/alist-freebsd-amd64.tar.gz -O - | tar -xz -C ~/domains/alist</span><br></pre></td></tr></table></figure><h2 id="配置端口和服务"><a href="#配置端口和服务" class="headerlink" title="配置端口和服务"></a>配置端口和服务</h2><p>在服务器面板的 Port Reservation 选项卡中放行一个随机 TCP 端口。在刚刚下载的 Alist 目录下，使用以下命令生成管理密码：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">./alist admin random</span><br></pre></td></tr></table></figure><p>然后启动服务来生成配置文件：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">./alist --server</span><br></pre></td></tr></table></figure><p>启动后通过 <code>Ctrl + C</code> 停止服务，编辑配置文件。在当前路径下的 <code>data</code> 文件夹中找到 <code>config.json</code> 文件，使用 <code>vim</code> 或面板中的 File Manager 编辑，将 Alist 的端口修改为之前放行的端口，并将 <code>scheme</code> 的 <code>address</code> 属性改为 <code>127.0.0.1</code>（可选，防止别人通过 IP+端口访问，后面我们使用 HTTPS+域名）。</p><p>你还可以根据需要修改数据库配置，Serv00 提供了 MySQL、PostgreSQL 和 MongoDB，您可以选择适合自己的数据库，或者使用 Alist 自带的 SQLite。</p><p>使用 PM2 管理和启动 Alist：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pm2 start ./alist -- server</span><br></pre></td></tr></table></figure><p>检查应用运行状态：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pm2 <span class="built_in">ls</span></span><br></pre></td></tr></table></figure><p><img src="https://i-blog.csdnimg.cn/direct/4e8ea37a520a44caaf5ed6395f2e97a9.png" alt="get status"></p><h2 id="通过-Cloudflare-Tunnel-映射域名"><a href="#通过-Cloudflare-Tunnel-映射域名" class="headerlink" title="通过 Cloudflare Tunnel 映射域名"></a>通过 Cloudflare Tunnel 映射域名</h2><ol><li>打开 <a href="https://one.dash.cloudflare.com/">Cloudflare Zero Trust 控制面板</a>，创建一个 Zero Trust，选择免费计划并设置支付方式（需要境内的双币卡）。</li><li>在 Network 的 Tunnels 中创建一个 Tunnel，选择 Cloudflared 部署方式，输入 Tunnel 名字，然后复制命令行并记下 token。</li></ol><p><img src="https://i-blog.csdnimg.cn/direct/fc1edcbdddfd47c682395af8fbac3622.jpeg" alt="Tunnel Create"></p><p>前往 <a href="https://cloudflared.bowring.uk/">Cloudflared 下载页面</a>，下载适合 FreeBSD 的 Cloudflared：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wget https://cloudflared.bowring.uk/binaries/cloudflared-freebsd-2024.11.1.7z &amp;&amp; 7z x cloudflared-freebsd-2024.11.1.7z &amp;&amp; <span class="built_in">rm</span> cloudflared-freebsd-2024.11.1.7z &amp;&amp; <span class="built_in">mv</span> -f ./temp/cloudflared-freebsd-2024.11.1 ./cloudflared &amp;&amp; <span class="built_in">rm</span> -rf temp</span><br></pre></td></tr></table></figure><p>使用 PM2 启动 Cloudflared：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pm2 start ./cloudflared -- tunnel --edge-ip-version auto --protocol http2 --heartbeat-interval 10s run --token ARGO_TOKEN</span><br></pre></td></tr></table></figure><p>记得将 <code>ARGO_TOKEN</code> 替换为你的实际 Token。</p><p>在 Cloudflare 面板中配置域名对应的端口，为你的域名配置一个子域名，Leave Path 空白，URL 填写为内网服务的 IP 加端口号。Type 建议使用 HTTP，因为 Cloudflare 会自动提供 HTTPS。</p><p><img src="https://i-blog.csdnimg.cn/direct/797065e8681945f1b0b092e33849c2b0.jpeg" alt="edit port"></p><h2 id="结果与评价"><a href="#结果与评价" class="headerlink" title="结果与评价"></a>结果与评价</h2><p>完成上面的步骤后，你可以直接输入刚刚设置的域名来访问 Alist。这种方法不仅提供了简单配置的低门槛条件，还为 Self-hosted 玩家提供了丰富的探索空间。🎉</p><p>然而需要注意的是，由于 Cloudflare Tunnel 在国内的访问速度不佳，并且可能存在断流情况，请根据需要谨慎使用。✨</p>]]></content>
      
      
      <categories>
          
          <category> 小玩具 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 服务器 </tag>
            
            <tag> Serv00 </tag>
            
            <tag> Alist </tag>
            
            <tag> Cloudflare </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>使用自建 Tabby Web 来同步 Tabby 配置</title>
      <link href="/posts/2053724735.html"/>
      <url>/posts/2053724735.html</url>
      
        <content type="html"><![CDATA[<meta name="referrer" content="no-referrer"/><h2 id="注册-Github-App"><a href="#注册-Github-App" class="headerlink" title="注册 Github App"></a>注册 Github App</h2><p>首先，我们需要注册一个 Github App。你可以访问 <a href="https://github.com/settings/applications/new">Github 应用注册页面</a> 进行注册。填入以下信息：</p><ul><li>Homepage URL: <code>https://tabby.example.com</code></li><li>Authorization callback URL: <code>https://tabby.example.com/api/1/auth/social/complete/github/</code></li></ul><p><img src="https://i-blog.csdnimg.cn/direct/78ca23e901aa48568e5aee876d21ac0c.png" alt="tabby"></p><p>注册完成后，记得保存 Client ID 和获取 Client secrets。</p><p><img src="https://i-blog.csdnimg.cn/direct/3b7f399d4d294baeba4940d21cfcb135.png" alt="tabby"></p><h2 id="运行-Tabby-Web"><a href="#运行-Tabby-Web" class="headerlink" title="运行 Tabby Web"></a>运行 Tabby Web</h2><p>接下来，我们需要创建一个 <code>podman-compose.yml</code> 文件，内容如下：</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">services:</span></span><br><span class="line">  <span class="attr">tabby:</span></span><br><span class="line">    <span class="attr">image:</span> <span class="string">ghcr.io/eugeny/tabby-web:latest</span></span><br><span class="line">    <span class="attr">container_name:</span> <span class="string">tabby</span></span><br><span class="line">    <span class="attr">restart:</span> <span class="string">always</span></span><br><span class="line">    <span class="attr">ports:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">&#x27;3005:8000&#x27;</span></span><br><span class="line">    <span class="attr">volumes:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">./data:/app-dist</span></span><br><span class="line">    <span class="attr">environment:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">DATABASE_URL=sqlite:app-dist/db.sqlite3</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">PORT=8000</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">DEBUG=False</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">SOCIAL_AUTH_GITHUB_KEY=xxxx</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">SOCIAL_AUTH_GITHUB_SECRET=xxxx</span></span><br></pre></td></tr></table></figure><p>运行以下命令启动 Tabby Web：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">podman pull ghcr.io/eugeny/tabby-web:latest</span><br><span class="line">podman-compose up -d</span><br></pre></td></tr></table></figure><p>然后，使用 <a href="https://so.csdn.net/so/search?q=Nginx&spm=1001.2101.3001.7020">Nginx</a> 或其他工具为 Tabby Web 实例做一个反向代理。</p><h2 id="配置-Tabby-Web"><a href="#配置-Tabby-Web" class="headerlink" title="配置 Tabby Web"></a>配置 Tabby Web</h2><p>进入容器 shell：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">podman <span class="built_in">exec</span> -it tabby /bin/sh</span><br></pre></td></tr></table></figure><p>从 <a href="https://registry.npmjs.org/tabby-web-container/">这里</a> 找到一个较新的版本号，然后注册应用版本：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">./manage.sh add_version 1.0.197-nightly.1</span><br></pre></td></tr></table></figure><h2 id="配置-Tabby-同步"><a href="#配置-Tabby-同步" class="headerlink" title="配置 Tabby 同步"></a>配置 Tabby 同步</h2><p>首先，启用库（Vault），设置主密码，并确保不开启 Encrypt config file 功能。</p><p><img src="https://i-blog.csdnimg.cn/direct/41a812dadb634b2cb06e444492e6dda2.png" alt="tabby"></p><p><img src="https://i-blog.csdnimg.cn/direct/d70609c46ab84aae95e4e4ba7f0534d9.png" alt="tabby"></p><p>在 Tabby 页面中登录 GitHub，复制同步 Token。</p><p><img src="https://i-blog.csdnimg.cn/direct/09925794c2124607a00b4c00e0f4d325.png" alt="tabby"></p><p><img src="https://i-blog.csdnimg.cn/direct/e0f3467b621d4595907428a0319e9a76.png" alt="tabby"></p><p>在 Tabby 设置中，进入 Config Sync 设置，填入以下信息：</p><ul><li>Sync Host: <code>https://tabby.example.com</code></li><li>Secret sync token: <code>YOUR_TOKEN</code></li></ul><p><img src="https://i-blog.csdnimg.cn/direct/d53e3d6b8dc04a04b17d7690c007387f.png" alt="tabby"></p><p>填完信息后回车一下，稍等片刻，你就可以在页面下方看到已经同步的配置文件（profile）。你可以上传、写入、下载、覆盖或创建新的配置文件。同时，建议开启 Sync automatically 选项，让配置同步更加便捷。</p><p><img src="https://i-blog.csdnimg.cn/direct/2bd0d774a6f5479c9ec649a5983b0787.png" alt="tabby"></p><h2 id="结束"><a href="#结束" class="headerlink" title="结束"></a>结束</h2>]]></content>
      
      
      <categories>
          
          <category> 小玩具 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> tabby </tag>
            
            <tag> 服务器 </tag>
            
        </tags>
      
    </entry>
    
    
  
  
</search>
